{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/Owini/OneDrive/Desktop/Works/NFTYVacation/my-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Owini/OneDrive/Desktop/Works/NFTYVacation/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from 'react';\nimport Button from '../../styles/GlobalComponents/Button';\nimport Web3Modal from 'web3modal';\nimport { useRef, useEffect, useState } from 'react';\nimport { providers } from 'ethers';\n\nvar RenderButton = function RenderButton() {\n  var _useState = useState(false),\n      connectedWallet = _useState[0],\n      setconnectedWallet = _useState[1];\n\n  var web3ModalRef = useRef(); // always returns object as current\n\n  var getSignerOrProvider = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var needSigner,\n          provider,\n          web3Provider,\n          _yield$web3Provider$g,\n          chainId,\n          signer,\n          _args = arguments;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              needSigner = _args.length > 0 && _args[0] !== undefined ? _args[0] : false;\n              _context.next = 3;\n              return web3ModalRef.current.connect();\n\n            case 3:\n              provider = _context.sent;\n              web3Provider = new providers.Web3Provider(provider);\n              _context.next = 7;\n              return web3Provider.getNetwork();\n\n            case 7:\n              _yield$web3Provider$g = _context.sent;\n              chainId = _yield$web3Provider$g.chainId;\n\n              if (!(chainId !== 4)) {\n                _context.next = 12;\n                break;\n              }\n\n              alert(\"USE RINKEEBY NETWORK\");\n              throw new Error(\"Change network to Rinkeby\");\n\n            case 12:\n              if (!needSigner) {\n                _context.next = 15;\n                break;\n              }\n\n              signer = web3Provider.getSigner();\n              return _context.abrupt(\"return\", signer);\n\n            case 15:\n              return _context.abrupt(\"return\", provider);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getSignerOrProvider() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var connectWallet = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return getSignerOrProvider();\n\n            case 3:\n              setconnectedWallet(true);\n              _context2.next = 9;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(\" error\", _context2.t0);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 6]]);\n    }));\n\n    return function connectWallet() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    web3ModalRef.current = new Web3Modal({\n      network: 'rinkeby',\n      providerOptions: {}\n    });\n  }, []);\n\n  if (!connectedWallet) {\n    return /*#__PURE__*/_jsx(Button, {\n      onClick: connectWallet,\n      children: \" Connect Wallet\"\n    });\n  } else return /*#__PURE__*/_jsx(Button, {\n    onClick: mint,\n    children: \" Mint \"\n  });\n};\n\nexport default RenderButton;","map":null,"metadata":{},"sourceType":"module"}